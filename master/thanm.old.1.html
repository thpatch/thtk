<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Redistribution and use in source and binary forms, with
   or without modification, are permitted provided that the
   following conditions are met:
  
   1. Redistributions of source code must retain this list
      of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce this
      list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the
      distribution.
  
   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
   CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED
   WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
   PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
   COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
   PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
   OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
   DAMAGE.
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../mandoc.css" type="text/css" media="all"/>
  <title>THANM.OLD(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">THANM.OLD(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">THANM.OLD(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">thanm.old</code> &#x2014; <span class="Nd">Touhou
    sprite archive tool</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">thanm.old</code></td>
    <td>[<code class="Fl">-Vf</code>] [<code class="Fl">-l</code>
      [<var class="Ar">version</var>] | <code class="Fl">-x</code> |
      <code class="Fl">-r</code> | <code class="Fl">-c</code>]
      [<var class="Ar">archive</var> [<var class="Ar">...</var>]]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <code class="Nm">thanm.old</code> utility performs various
    actions on sprite archives. The following commands are available:</p>
<dl class="Bl-tag">
  <dt><code class="Nm">thanm.old</code> [<code class="Fl">-f</code>]
    <code class="Fl">-l</code> [<var class="Ar">version</var>]
    <var class="Ar">archive</var></dt>
  <dd>Displays a specification of the archive. The <var class="Ar">version</var>
      is necessary to correctly process archives from TH18 and newer, but may
      otherwise be omitted.</dd>
  <dt><code class="Nm">thanm.old</code> [<code class="Fl">-f</code>]
    <code class="Fl">-x</code> <var class="Ar">archive</var>
    [<var class="Ar">file ...</var>]</dt>
  <dd>Extracts image files. If no files are specified, all files are
    extracted.</dd>
  <dt><code class="Nm">thanm.old</code> [<code class="Fl">-f</code>]
    <code class="Fl">-r</code> <var class="Ar">archive</var>
    <var class="Ar">name</var> <var class="Ar">file</var></dt>
  <dd>Replaces an entry in the archive. The name can be obtained by the
      <code class="Fl">-l</code> command.</dd>
  <dt><code class="Nm">thanm.old</code> [<code class="Fl">-f</code>]
    <code class="Fl">-c</code> <var class="Ar">archive</var>
    <var class="Ar">input</var></dt>
  <dd>Creates a new archive from a specification obtained by the
      <code class="Fl">-l</code> command. It will look for referenced image
      files in the current directory.</dd>
  <dt><code class="Nm">thanm.old</code> <code class="Fl">-V</code></dt>
  <dd>Displays the program version.</dd>
</dl>
<p class="Pp">These options are accepted:</p>
<dl class="Bl-tag">
  <dt id="f"><a class="permalink" href="#f"><code class="Fl">-f</code></a></dt>
  <dd>The <code class="Fl">-f</code> option can be used to ignore certain
      errors.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">The <code class="Nm">thanm.old</code> utility exits with 0 on
    success, 1 on error.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Lk" href="https://github.com/thpatch/thtk">Project
    homepage</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">A few files from TH12 and TH13 contain overlapping entries with
    different formats. Dumping and recreating these archives will not result in
    the same archives. The affected pixels seem to all have 0 for alpha
  though.</p>
<p class="Pp">One of the scripts in TH95's front.anm lack a sentinel
    instruction. Dumping and recreating this archive will add a sentinel
    instruction.</p>
<p class="Pp">This version will not create correct TH19 archives, please use the
    latest <a class="Xr" href="thanm.1.html">thanm(1)</a> instead.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SECURITY_CONSIDERATIONS"><a class="permalink" href="#SECURITY_CONSIDERATIONS">SECURITY
  CONSIDERATIONS</a></h1>
<p class="Pp">File names may not be properly sanitized when extracting.
    Furthermode, invalid data may not be properly handled. Do not operate on
    untrusted files.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 23, 2023</td>
    <td class="foot-os">thtk</td>
  </tr>
</table>
</body>
</html>
